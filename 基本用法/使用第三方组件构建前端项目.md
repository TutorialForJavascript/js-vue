# 使用第三方组件库

vue生态下最知名的组件库应该是饿了么的[element](https://element.eleme.cn/),本文也会使用这个组件库作为例子,其他比较流行的组件库还有[iview](https://github.com/iview/iview)
等.基本上使用也是一个套路.


我们可以使用vue-cli的插件[vue-cli-plugin-element](https://github.com/ElementUI/vue-cli-plugin-element)快速初始化一个项目.
如果是命令行操作就是创建好项目后执行`vue add vue-cli-plugin-element`,按提示选择一路回车就好.注意最好我们选择按需要部分导入而非全部导入.

## 一个完整的例子

接下来我们来做一个简单的[英雄指南](https://angular.cn/tutorial)项目,这个项目非常经典,是[angular教程](https://angular.cn/tutorial)使用的例子.这个例子我们会贯穿整个这一章节,这边只是先给出第一版--视图部分.

后续的路由部分和数据状态部分我们会在接下来介绍
我们先来规划下这个例子,这个例子会有3个view:

+ 首页仪表盘

![首页仪表盘](source/heroes-dashboard-1.png)

+ 英雄列表

![英雄列表](source/heroes-list-2.png)

+ 英雄详情

![英雄详情](source/hero-details-1.png)

他们之间的关系入下图

![视图间关系](source/nav-diagram.png)

最终我们要做到的效果功能上如下:

![最终效果](source/toh-anim.gif)

当然因为是套组件,我们的样式不可能和上面的完全一致,本文重点也不是样式,而是如何构建一个vue的前端工程.

## vue-cli-plugin-element项目的结构

使用`vue-cli-plugin-element`插件构造的项目会比之前的helloworld项目多出一个文件夹`src/plugins`其中的`element.js`文件专门用于导入element组件,这也就意味着只要在这个文件中导入组件,那么这些组件就在项目的全局都可以被使用了.其基本使用方式是:

```js
import Vue from 'vue'
import {
    Container, Main, Header,
} from 'element-ui'


Vue.use(Container)
Vue.use(Main)
Vue.use(Header)
```

我们只需要导入要用的组件,然后使用`Vue.use`加载它即可.

## 视图构建

上面说过我们有3个视图

+ 首页仪表盘

+ 英雄列表

+ 英雄详情

我们分别来构造这三个视图的页面,但在这之前我们先来给整个页面排个版

可以看到这个app头部实际上是一直不变的,永远是app名字和两个主要视图的路由;而下面会变的部分才是这些路由渲染的页面.我们可以在App.vue组件上声明好这个根视图

+ App.vue

```vue
<template>
  <div id="app">
    <el-container>
      <el-header height="120">
        <header>
          <el-row :gutter="10" type="flex" justify="center">
            <h1>英雄指南</h1>
          </el-row>
          <el-row :gutter="10" type="flex" justify="center">
            <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal">
              <el-menu-item index="1">
                <router-link to="/">仪表盘</router-link>
              </el-menu-item>
              <el-menu-item index="2">
                <router-link to="/herolist">英雄列表</router-link>
              </el-menu-item>
            </el-menu>
          </el-row>
          <el-divider></el-divider>
        </header>
      </el-header>
      <el-main>
        <router-view />
      </el-main>
    </el-container>
  </div>
</template>

<script>
import HelloWorld from "./components/HelloWorld.vue";

export default {
  name: "app",
  data() {
    return {
      activeIndex: "1"
    };
  },
  methods: {
    handleSelect(key, keyPath) {
      console.log(key, keyPath);
    }
  }
};
</script>
```
这个根视图使用了如下组件:

+ [容器相关](https://element.eleme.cn/#/zh-CN/component/container)

这部分是容器相关的组件,用于对app整体布局.

组件模块对象|组件名|功能
---|---|---
Container|el-container|声明容器
Main|el-main|声明是主体部分
Header|el-header|声明是头部

容器相关的组件会根据配置自动按规则排版,具体的可以去看官方文档

+ [布局相关](https://element.eleme.cn/#/zh-CN/component/layout)

这部分布局相关的组件通常需要配合容器相关组件,通常容器相关的是整体布局,而布局相关的则是局部布局,element类似以前的bootstrap使用行作为单位,每一行被分成24份,通过设置
    Row, Col,

### 首页仪表盘

仪表盘我们可以看到